---
# Front-matter to make Jekyll process this file (render to CSS).
---



// Functions.
@use "utilities" as *;

// Basic reset and typography.
@use 'reset';
@use 'fonts';
@use 'typography';



:root {
	@extend %font--calibre--regular;

	--margin:           2.4rem;
	--typography--size: 2rem;

	@include breakpoint(768) {
		--margin:           4.8rem;
		--typography--size: 2.4rem;
	}
}



body {
	> header {
		--logo--height:         22.164rem; // TODO Calc these in JS.
		--logo--height--scroll: calc(var(--logo--height) * var(--logo--scale, 1));

		--tagline--height: 3.875rem; // TODO Same here.

		@include breakpoint(768) {
			--logo--height: 33.247rem; // TODO Then these aren’t necessary.

			--tagline--height: 5.813rem;
		}

		// The collapsed/scrolled header offset.
		--header--scroll--offset: calc(
				-1 * var(--vh--initial, 100vh)
				+ var(--logo--height--scroll)
				+ var(--tagline--height)
				+ var(--margin) * 3
			);

		// The distance from the initial, centered logo until it is “stuck”.
		--header--scroll--extra: calc(
				(
					100vh
					+ var(--vh--offset, 0rem)
					- var(--logo--height)
					- var(--tagline--height)
					- var(--margin) * 3
				)
				/ 2
			);

		background:     white; // For now.
		display:        flex;
		flex-direction: column;
		gap:            var(--margin);
		height:         calc(var(--vh--initial, 100vh) + var(--header--scroll--extra));
		padding:        var(--margin);
		position:       sticky;
		top:            calc(var(--header--scroll--offset) - var(--header--scroll--extra));

		section:first-child {
			align-items:   center;
			display:       flex;
			flex-grow:     1;
			margin-top:    calc(-1 * var(--header--scroll--extra));

			> figure {
				// height:                     var(--logo--height--scroll);
				position:                   sticky;
				top:                        var(--margin);
				// transform-origin:           top left;
				// transform:                  scale(var(--logo--scale, 1));
				// transition-delay:           100ms, 0ms; // TODO The height should be on `transitionend`.
				// transition-duration:        200ms;
				// transition-property:        height, transform;
				// transition-timing-function: ease-in-out;

				> h1 {
					@extend %font--heldane--regular;

					--typography--leading: calc(5/6);
					--typography--size:    9.6rem;

					align-items:    start;
					display:        flex;
					flex-direction: column;

					@include breakpoint(320) {
						--typography--size: 8rem;
					}

					@include breakpoint(768) {
						--typography--size: 14.4rem;
					}



					#art--header {
						.a {
							letter-spacing: -0.04em; // Tighten the “Ar”.
						}
					}

					#media--header {
						.m {
							letter-spacing: -0.03em; // “Me”.
						}

						.d {
							letter-spacing: 0.02em; // “di“.
						}
					}

					#science--header {
						.s {
							letter-spacing: -0.01em; // “Sc“.
						}

						.i {
							letter-spacing: -0.01em; // “ie“.
						}

						.n {
							letter-spacing: -0.01em; // “nc“.
						}
					}
				}
			}
		}

		> section:last-child {
			bottom:   var(--margin);
			position: sticky;

			> p {
				--typography--size:    2.4rem;
				--typography--leading: 1;

				@include breakpoint(768) {
					--typography--size: 3.6rem;
				}
			}
		}
	}



	// // From the JS.
	// &.main--visible {
	// 	--logo--scale: 0.618; // Golden.
	// }



	> main {
		padding: var(--margin);

		p {
			max-width: 80ch;

			+ p {
				margin-top: var(--margin);
			}
		}
	}
}
